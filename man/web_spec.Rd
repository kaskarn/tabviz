% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/web_spec.R
\name{web_spec}
\alias{web_spec}
\title{Create a web specification for table visualizations}
\usage{
web_spec(
  data,
  point = NULL,
  lower = NULL,
  upper = NULL,
  label = NULL,
  label_header = "Study",
  group = NULL,
  columns = NULL,
  scale = c("linear", "log"),
  null_value = NULL,
  axis_label = NULL,
  effects = NULL,
  annotations = NULL,
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  footnote = NULL,
  row_bold = NULL,
  row_italic = NULL,
  row_color = NULL,
  row_bg = NULL,
  row_badge = NULL,
  row_icon = NULL,
  row_indent = NULL,
  row_type = NULL,
  row_emphasis = NULL,
  row_muted = NULL,
  row_accent = NULL,
  marker_color = NULL,
  marker_shape = NULL,
  marker_opacity = NULL,
  marker_size = NULL,
  weight = NULL,
  theme = web_theme_default(),
  interaction = web_interaction()
)
}
\arguments{
\item{data}{A data.frame, data.table, or tibble}

\item{point}{Column name for point estimates. Can be NULL if \code{effects} is provided
(will use first effect's columns).}

\item{lower}{Column name for lower bounds of intervals. Can be NULL if \code{effects} is provided.}

\item{upper}{Column name for upper bounds of intervals. Can be NULL if \code{effects} is provided.}

\item{label}{Column name for row labels (optional)}

\item{label_header}{Header text for the label column (default: "Study")}

\item{group}{Grouping specification. Can be:
\itemize{
\item Single string: Column name for flat grouping, e.g., \code{"category"}
\item Character vector: Column names for hierarchical nesting from outermost
to innermost, e.g., \code{c("region", "country")} creates region > country
\item List of \code{web_group()} objects for explicit control over labels and structure
}}

\item{columns}{List of column specifications (use \verb{col_*()} helpers)}

\item{scale}{Scale type: "linear" (default) or "log"}

\item{null_value}{Reference value for null effect. Default: 0 for linear, 1 for log}

\item{axis_label}{Label for the graphical axis}

\item{effects}{List of EffectSpec objects for multi-effect plots (use \code{web_effect()})}

\item{annotations}{List of annotation objects (use \code{forest_refline()}, \code{forest_annotation()})}

\item{title}{Main title (displayed above the plot)}

\item{subtitle}{Subtitle (displayed below the title)}

\item{caption}{Caption (displayed below the plot)}

\item{footnote}{Footnote (displayed below caption, italicized)}

\item{row_bold}{Row-level bold styling. Column name (character) or formula
(e.g., \code{~ p_value < 0.05}) evaluating to logical values.}

\item{row_italic}{Row-level italic styling. Column name or formula.}

\item{row_color}{Row text color. Column name or formula returning CSS color strings.}

\item{row_bg}{Row background color. Column name or formula returning CSS color strings.}

\item{row_badge}{Label badges. Column name or formula returning text values.}

\item{row_icon}{Label icons. Column name or formula returning emoji/unicode.}

\item{row_indent}{Row indentation. Column name or formula returning numeric values.}

\item{row_type}{Row type. Column name or formula returning "data", "header", "summary", "spacer".}

\item{row_emphasis}{Emphasis styling (bold + foreground). Column name or formula (logical).}

\item{row_muted}{Muted styling (lighter, reduced prominence). Column name or formula (logical).}

\item{row_accent}{Accent styling (theme accent color). Column name or formula (logical).}

\item{marker_color}{Marker fill color. Column name or formula returning CSS color strings.}

\item{marker_shape}{Marker shape. Column name or formula returning "square", "circle", "diamond", "triangle".}

\item{marker_opacity}{Marker opacity. Column name or formula returning numeric 0-1.}

\item{marker_size}{Marker size multiplier. Column name or formula returning numeric values.}

\item{weight}{Deprecated: use marker_size instead}

\item{theme}{Theme object (use \verb{web_theme_*()} functions)}

\item{interaction}{Interaction settings (use \code{web_interaction()})}
}
\value{
A WebSpec object that can be rendered with \code{forest_plot()} or \code{webtable()}
}
\description{
\code{web_spec()} creates the core data structure that can be rendered as
a forest plot, interactive table, or other visualizations. This is
the recommended way to prepare data for rendering.
}
\examples{
\dontrun{
# Basic specification
data <- data.frame(
  item = c("A", "B", "C"),
  value = c(1.2, 0.8, 1.5),
  lo = c(0.9, 0.5, 1.1),
  hi = c(1.6, 1.2, 2.0)
)

spec <- web_spec(data, point = "value", lower = "lo", upper = "hi", label = "item")

# Render as forest plot
forest_plot(spec)

# Render as table only
webtable(spec)

# With log scale (for ratios)
spec_log <- web_spec(
  data,
  point = "value",
  lower = "lo",
  upper = "hi",
  scale = "log",
  null_value = 1,
  axis_label = "Odds Ratio"
)
}

}
